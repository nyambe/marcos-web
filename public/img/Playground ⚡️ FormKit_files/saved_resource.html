<!DOCTYPE html>
<!-- saved from url=(0012)about:srcdoc -->
<html data-active-tab="render" data-v2lce-fullscreen="true"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Formkit code example</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>
      window.esmsInitOptions = {
        shimMode: true,
        fetch: async function (url, options) {
          const res = await fetch(url, options)
          if (!res.ok) return res
          if (res.type !== "cors") {
            const content =
              typeof res.body === "function"
                ? await res.body()
                : await res.text()
            return new Response(
              new Blob([`${content}`], { type: "application/javascript" })
            )
          }
          return res
        }, // defaults to `((url, options) => fetch(url, options))`
      }
    </script>
    <script async="" src="https://cdn.jsdelivr.net/npm/construct-style-sheets-polyfill@3.1.0/dist/adoptedStyleSheets.min.js"></script>
    <script async="" src="https://cdn.jsdelivr.net/npm/es-module-shims@1.6.3/dist/es-module-shims.min.js"></script>
    <script type="importmap-shim">
      {
        "imports": {
  "vue": "https://cdn.jsdelivr.net/npm/vue@3/dist/vue.esm-browser.js",
  "vue3-sfc-loader": "https://cdn.jsdelivr.net/npm/vue3-sfc-loader@0.8.4/dist/vue3-sfc-loader.esm.js",
  "@formkit/vue": "https://cdn.formk.it/vue@1.0.0-beta.15?vue=https://cdn.jsdelivr.net/npm/vue@3/dist/vue.esm-browser.js",
  "@formkit/core": "https://cdn.formk.it/core@1.0.0-beta.15",
  "@formkit/utils": "https://cdn.formk.it/utils@1.0.0-beta.15",
  "@formkit/dev": "https://cdn.formk.it/dev@1.0.0-beta.15",
  "@formkit/themes": "https://cdn.formk.it/themes@1.0.0-beta.15",
  "@formkit/i18n": "https://cdn.formk.it/i18n@1.0.0-beta.15",
  "@formkit/inputs": "https://cdn.formk.it/inputs@1.0.0-beta.15",
  "@formkit/observer": "https://cdn.formk.it/observer@1.0.0-beta.15",
  "@formkit/rules": "https://cdn.formk.it/rules@1.0.0-beta.15",
  "@formkit/utils": "https://cdn.formk.it/utils@1.0.0-beta.15",
  "@formkit/validation": "https://cdn.formk.it/validation@1.0.0-beta.15"

,
        "vue3-sfc-loader": "https://cdn.jsdelivr.net/npm/vue3-sfc-loader@0.8.4/dist/vue3-sfc-loader.esm.min.js?key=",
        "tailwindcss/plugin": "https://cdn.jsdelivr.net/npm/tailwindcss@3/src/util/createPlugin.min.js?key=",
        "tailwindcss/plugin.js": "https://cdn.jsdelivr.net/npm/tailwindcss@3/src/util/createPlugin.min.js?key=",
        "@formkit/vue": "https://cdn.jsdelivr.net/npm/@formkit/vue@1.0.0-beta.15/dist/index.min.mjs?key=",
        "@formkit/core": "https://cdn.jsdelivr.net/npm/@formkit/core@1.0.0-beta.15/dist/index.min.mjs?key=",
        "@formkit/utils": "https://cdn.jsdelivr.net/npm/@formkit/utils@1.0.0-beta.15/dist/index.min.mjs?key=",
        "@formkit/dev": "https://cdn.jsdelivr.net/npm/@formkit/dev@1.0.0-beta.15/dist/index.min.mjs?key=",
        "@formkit/i18n": "https://cdn.jsdelivr.net/npm/@formkit/i18n@1.0.0-beta.15/dist/index.min.mjs?key=",
        "@formkit/inputs": "https://cdn.jsdelivr.net/npm/@formkit/inputs@1.0.0-beta.15/dist/index.min.mjs?key=",
        "@formkit/observer": "https://cdn.jsdelivr.net/npm/@formkit/observer@1.0.0-beta.15/dist/index.min.mjs?key=",
        "@formkit/rules": "https://cdn.jsdelivr.net/npm/@formkit/rules@1.0.0-beta.15/dist/index.min.mjs?key=",
        "@formkit/validation": "https://cdn.jsdelivr.net/npm/@formkit/validation@1.0.0-beta.15/dist/index.min.mjs?key=",
        "@formkit/themes": "https://cdn.jsdelivr.net/npm/@formkit/themes@1.0.0-beta.15/dist/index.min.mjs?key=",
        "@formkit/tailwindcss": "https://cdn.jsdelivr.net/npm/@formkit/tailwindcss@1.0.0-beta.15/dist/index.min.mjs?key=",
        "@formkit/themes/tailwindcss": "https://cdn.jsdelivr.net/npm/@formkit/themes@1.0.0-beta.15/dist/tailwindcss/index.min.mjs?key=",
        "@formkit/themes/tailwindcss/genesis": "https://cdn.jsdelivr.net/npm/@formkit/themes@1.0.0-beta.15/dist/tailwindcss/genesis/index.min.mjs?key=",
        "@formkit/themes/dist/tailwindcss/genesis": "https://cdn.jsdelivr.net/npm/@formkit/themes@1.0.0-beta.15/dist/tailwindcss/genesis/index.min.mjs?key=",
        "@formkit/themes/windicss": "https://cdn.jsdelivr.net/npm/@formkit/themes@1.0.0-beta.15/dist/windicss/index.min.mjs?key=",
        "@formkit/themes/unocss": "https://cdn.jsdelivr.net/npm/@formkit/themes@1.0.0-beta.15/dist/unocss/index.min.mjs?key=",
        "windicss/plugin": "https://cdn.jsdelivr.net/npm/windicss@3/plugin/index.mjs?key=",
        "@formkit/icons": "https://cdn.jsdelivr.net/npm/@formkit/icons@1.0.0-beta.15/dist/index.min.mjs?key=",
        "@formkit/addons": "https://cdn.jsdelivr.net/npm/@formkit/addons@1.0.0-beta.15/dist/index.min.mjs?key=",
        "@formkit/addons/css/multistep": "https://cdn.jsdelivr.net/npm/@formkit/addons@1.0.0-beta.15/dist/css/multistep.css?key=",
        "@formkit/addons/css/floatingLabels": "https://cdn.jsdelivr.net/npm/@formkit/addons@1.0.0-beta.15/dist/css/floatingLabels.css?key=",
        "@formkit/auto-animate": "https://cdn.jsdelivr.net/npm/@formkit/auto-animate@latest/index.min.mjs?key=",
          "@formkit/pro": "https://cdn.jsdelivr.net/npm/@formkit/pro@latest/index.mjs?key="
}

      }
    </script>

    
  
          
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@formkit/themes@1.0.0-beta.15/dist/genesis/theme.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@formkit/addons@1.0.0-beta.15/dist/css/multistep.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@formkit/addons@1.0.0-beta.15/dist/css/floatingLabels.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@formkit/pro@latest/genesis.css">
      
          
          <style>* {
  box-sizing: border-box;
}
*::before,
*::after {
  box-sizing: inherit;
}

html,
body {
  height: 100%;
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none;
  -webkit-text-size-adjust: 100%;
}
html::-webkit-scrollbar {
  display: none;
}
body::-webkit-scrollbar {
  display: none;
}
html[data-active-tab="html"] #app {
  background-color: #11272b;
  color: #fff;
}
body {
  margin: 0;
  font-family: sans-serif;
  display: flex;
  flex-direction: column;
}

#app {
  min-height: 72px;
  width: 100%;
  height: 100%;
  /*I, Sasha Milenkovic, being of sound mind, willfully and voluntarily have commented out this overflow hidden because we are attempting to make the dropdown visible when it overflows the body. */
  /*overflow: hidden;*/
}

.source-wrapper,
.output-wrapper {
  padding: 12px 20px;
}

html[data-active-tab="html"] .source-content {
  display: none;
}
html[data-active-tab="render"] .output {
  display: none;
}

html[data-v2lce-fullscreen="true"] .source-content,
html[data-v2lce-fullscreen="true"] .output {
  overflow: auto;
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none;
}
html[data-v2lce-fullscreen="true"] .source-content::-webkit-scrollbar,
html[data-v2lce-fullscreen="true"] .output::-webkit-scrollbar {
  display: none;
}

@media (min-height: 700px) {
  html[data-v2lce-fullscreen="true"][data-active-tab="html"] {
    background-color: unset;
    color: unset;
  }

  html[data-v2lce-fullscreen="true"] #preview-wrapper {
    height: 100%;
  }

  html[data-v2lce-fullscreen="true"] .source-content,
  html[data-v2lce-fullscreen="true"] .output {
    display: flex !important;
    width: 100%;
    height: 50%;
  }

  html[data-v2lce-fullscreen="true"] .output {
    background-color: #11272b;
    color: #fff;
  }

  html[data-v2lce-fullscreen="true"] body {
    overflow: hidden;
  }
}

.output pre {
  white-space: pre;
  margin: 0;
  line-height: 1.6;
  margin-top: -1rem;
  font-size: 12px;
  font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace;
}

.output pre > span:last-child {
  display: block;
  margin-bottom: 0.5em;
}

#preview-wrapper {
  height: 100%;
  display: flex;
  flex-direction: column;
}

.source-content {
  display: flex;
  width: 100%;
  min-height: 100%;
  flex-direction: column;
  background: #fff;
  color: #222;
}
@media (min-height: 700px) {
  .source-content {
    min-height: 50%;
  }
}

.source-content pre[wrap]:empty {
  display: none;
}
.source-content pre[wrap] {
  white-space: pre;
  line-height: 1.6;
  font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace;
  margin-top: auto;
  margin-bottom: -12px;
  margin-left: -20px;
  margin-right: -20px;
  padding: calc(1em + 12px) calc(1em + 20px);
  font-size: 0.85rem;
  background-color: rgb(230 237 239);
  border-top: 1px solid rgb(224, 230, 227);
  overflow: auto;
  flex-shrink: 0;
}

.hljs-name {
  color: #fd7ff8;
}
.hljs-attr {
  color: #b9ff47;
}
.hljs-string {
  color: #4ae9ff;
}
.hljs-comment {
  display: none;
}
</style>
          </head>

  <body>
    <div id="app" data-v-app=""><div id="preview-wrapper"><div class="source-content"><div class="source-wrapper"><form class="formkit-form" id="input_0" name="form_1"><div class="formkit-outer" data-family="text" data-type="text"><div class="formkit-wrapper"><label class="formkit-label" for="input_1">Full Name</label><div class="formkit-inner"><!----><!----><input placeholder="Enter your name..." class="formkit-input" type="text" name="name" id="input_1"><!----><!----></div></div><!----><!----></div><div class="formkit-outer" data-family="box" data-type="checkbox"><label class="formkit-wrapper"><div class="formkit-inner"><!----><input class="formkit-input" type="checkbox" name="hasEmail" id="input_2" value="true"><span class="formkit-decorator" aria-hidden="true"><span class="formkit-decorator-icon formkit-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 27"><polygon fill="currentColor" points="26.99 0 10.13 17.17 4.69 11.63 0 16.41 10.4 27 15.05 22.27 15.09 22.31 32 5.1 26.99 0"></polygon></svg></span></span><!----></div><span class="formkit-label">Has Email?</span></label><!----><!----></div><p>Email enabled? false</p><!----><!----><div class="formkit-actions"><div class="formkit-outer" data-family="button" data-type="submit"><!----><div class="formkit-wrapper"><button class="formkit-input" type="submit" name="submit_2" id="input_3"><!----><!---->Submit<!----><!----></button></div><!----></div></div></form><pre>{
  "name": null,
  "email": null,
  "hasEmail": false,
  "slots": {}
}
</pre></div></div><div class="output" style=""><div class="output-wrapper"><pre>
<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-form"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"input_0"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"form_1"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-outer"</span> <span class="hljs-attr">data-family</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">data-type</span>=<span class="hljs-string">"text"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-wrapper"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-label"</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"input_1"</span>&gt;</span>Full Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-inner"</span>&gt;</span><span class="hljs-comment">&lt;!----&gt;</span><span class="hljs-comment">&lt;!----&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Enter your name..."</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-input"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"input_1"</span>&gt;</span><span class="hljs-comment">&lt;!----&gt;</span><span class="hljs-comment">&lt;!----&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-comment">&lt;!----&gt;</span><span class="hljs-comment">&lt;!----&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-outer"</span> <span class="hljs-attr">data-family</span>=<span class="hljs-string">"box"</span> <span class="hljs-attr">data-type</span>=<span class="hljs-string">"checkbox"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-wrapper"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-inner"</span>&gt;</span><span class="hljs-comment">&lt;!----&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-input"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hasEmail"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"input_2"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"true"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-decorator"</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-decorator-icon formkit-icon"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 32 27"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">polygon</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"currentColor"</span> <span class="hljs-attr">points</span>=<span class="hljs-string">"26.99 0 10.13 17.17 4.69 11.63 0 16.41 10.4 27 15.05 22.27 15.09 22.31 32 5.1 26.99 0"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">polygon</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-comment">&lt;!----&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-label"</span>&gt;</span>Has Email?<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-comment">&lt;!----&gt;</span><span class="hljs-comment">&lt;!----&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Email enabled? false<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-comment">&lt;!----&gt;</span><span class="hljs-comment">&lt;!----&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-actions"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-outer"</span> <span class="hljs-attr">data-family</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">data-type</span>=<span class="hljs-string">"submit"</span>&gt;</span><span class="hljs-comment">&lt;!----&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-wrapper"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"formkit-input"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"submit_2"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"input_3"</span>&gt;</span><span class="hljs-comment">&lt;!----&gt;</span><span class="hljs-comment">&lt;!----&gt;</span>Submit<span class="hljs-comment">&lt;!----&gt;</span><span class="hljs-comment">&lt;!----&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-comment">&lt;!----&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span>{
  "name": null,
  "email": null,
  "hasEmail": false,
  "slots": {}
}
<span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span>
</pre></div></div></div></div>

    <script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.2.0/highlight.min.js"></script>

    <script>
      // This is a separate script so it runs synchronously
      window.uuid = null

      // All loading is complete, communicate that we're ready for init.
      window.sendUUID = function () {
        if (window.uuid) {
          window.parent.postMessage(
            {
              channel: "iframe",
              uuid: window.uuid,
              init: true,
            },
            "*"
          )
        } else {
          window.requestNewUUID()
          setTimeout(() => {
            window.sendUUID()
          }, 250)
        }
      }

      // if we had undefined, send a message that will cause all iframes to rebroadcast their UUIDs
      window.requestNewUUID = function () {
        window.parent.postMessage({
          channel: "newUUID",
          uuid: true,
        })
      }

      window.addEventListener("message", (e) => {
        if (e.data.channel === "uuid" && e.data.uuid) {
          window.uuid = e.data.uuid
          window.sendUUID()
        }
      })
    </script>

    <script type="module-shim">
      
        import * as Vue from 'vue'
        import * as FormKitVue from '@formkit/vue'
        import * as FormKitCore from '@formkit/core'
        import * as FormKitUtils from '@formkit/utils'
        import * as FormKitDev from '@formkit/dev'
        import * as FormKitI18n from '@formkit/i18n'
        import * as FormKitTailwind from '@formkit/tailwindcss'
        import * as FormKitThemes from '@formkit/themes'
        import * as FormKitInputs from '@formkit/inputs'
        import * as FormKitObserver from '@formkit/observer'
        import * as FormKitRules from '@formkit/rules'
        import * as FormKitValidation from '@formkit/validation'
        import * as FormKitPro from '@formkit/pro'
        import * as FormKitIcons from '@formkit/icons'
        import * as FormKitAddons from '@formkit/addons'
        import * as FormKitAutoAnimate from '@formkit/auto-animate'
      import { loadModule } from "vue3-sfc-loader";

      // extract what we need from FormKitVue
      const { plugin, defaultConfig, resetCount } = FormKitVue;

      const { createProPlugin, inputs } = FormKitPro

      try {
        window.prevTemplate = "";
        window.activeTab = "render";
        window.importMap = JSON.parse(
          document.querySelectorAll('script[type="importmap-shim"')[0].innerHTML
        ).imports;
        window.Vue = Vue;
        window.vueApp = null;
        window.setupTimer = null;
        window.generateSetup = () => {
          clearTimeout(window.setupTimer);
          if (typeof window.generateOutput === "function") {
            window.generateOutput();
          } else {
            window.setupTimer = setTimeout(() => {
              window.generateSetup();
            }, 100);
          }
        };

        var localMessageHandlers = [
          (e) => {
            if (e.data && e.data.channel === "template") {
              window.payload = e.data.payload;
              if (window.payload) {
                if (window.prevTemplate !== window.payload) {
                  window.prevTemplate = window.payload;
                  setupVueInstance(payload);
                  window.generateSetup();
                  setTimeout(() => {
                    window.sendHeight(true);
                  }, 200);
                }
              }
            }
          },
          (e) => {
            if (e.data && e.data.channel === "activeTab") {
              window.activeTab = e.data.payload;
              document.documentElement.setAttribute(
                "data-active-tab",
                window.activeTab
              );
              if (window.vueApp && window.activeTab === "html") {
                window.generateOutput();
              }
              setTimeout(() => {
                window.sendHeight(false);
              }, 10);
            }
          },
        ];
        window.messageHandlers = window.messageHandlers
          ? window.messageHandlers.concat(localMessageHandlers)
          : localMessageHandlers;
        // run matching handlers on events
        window.addEventListener("message", (e) =>
          window.messageHandlers.forEach((fn) => fn(e))
        );

        window.HTMLTemplate = `<template>
  <!--
    THIS FILE IS INJECTED AS TEXT INTO vue.html
    as part of the iframe srcdoc
  -->
  <div id="preview-wrapper">
    <div class="source-content">
      <div class="source-wrapper" ref="source">
        <slot />
      </div>
    </div>
    <div v-show="formattedOutput" class="output">
      <div class="output-wrapper">
        <pre v-html="formattedOutput" />
      </div>
    </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      output: "",
      observer: null,
      setup: null,
      generated: false,
      parentLoaded: false,
      readyBroadcast: null,
      heightInterval: null,
      needsReboot: false,
      rebootInterval: null,
    }
  },
  computed: {
    formattedOutput() {
      return this.output.replace(/\\n\\s*\\n/g, "\\n")
    },
  },
  watch: {
    generated(val) {
      this.readyBroadcast = setInterval(() => {
        if (this.parentLoaded) {
          setTimeout(() => {
            window.sendHeight()
          }, 20)
          clearInterval(this.readyBroadcast)
        }
        window.parent.postMessage(
          {
            channel: "iframe",
            ready: val,
            uuid: window.uuid,
          },
          "*"
        )
      }, 20)
      setTimeout(() => {
        window.sendHeight()
      }, 20)
    },
  },
  mounted() {
    this.setupGenerateOutput()
    window.addEventListener("message", (e) => {
      if (
        e.data &&
        e.data.channel === "parentReady" &&
        e.data.uuid === window.uuid
      ) {
        this.parentLoaded = true
      }
    })
    this.heightInterval = setInterval(() => {
      // send height on interval in case content expands / contracts
      window.sendHeight()
    }, 250)
  },
  beforeUnmount() {
    window.generateOutput = null
    if (this.observer) {
      this.observer.disconnect()
    }
    if (this.readyBroadcast) {
      window.clearInterval(this.readyBroadcast)
    }
    if (this.heightInterval) {
      window.clearInterval(this.heightInterval)
    }
  },
  methods: {
    initObserver() {
      const config = {
        childList: true,
        subtree: true,
        characterData: true,
        attributes: true,
      }
      const self = this
      let debounceTimer
      const callback = () => {
        clearTimeout(debounceTimer)
        debounceTimer = setTimeout(() => {
          if (self.$refs.source.innerHTML) {
            self.$nextTick(() => {
              self.generateOutput()
            })
          } else {
            self.needsReboot = true
            self.rebootInterval = setInterval(() => {
              if (!self.$refs.source.innerHTML) {
                window.parent.postMessage(
                  {
                    channel: "iframe",
                    ready: false,
                    uuid: window.uuid,
                  },
                  "*"
                )
              } else {
                clearInterval(self.rebootInterval)
                self.generateOutput()
              }
            }, 1000)
          }
        }, 500)
      }
      const observer = new MutationObserver(callback)
      observer.observe(this.$refs.source, config)
      this.observer = observer
    },
    setupGenerateOutput() {
      clearTimeout(this.setup)
      if (this.$refs && this.$refs.source) {
        window.generateOutput = this.generateOutput
        this.generateOutput()
        if (!this.generated) {
          this.initObserver()
          this.generated = true
        }
      } else {
        this.setup = setTimeout(() => {
          this.setupGenerateOutput()
        }, 50)
      }
    },
    generateOutput() {
      if (this.$refs && this.$refs.source) {
        const markup = this.$refs.source.cloneNode(true)
        this.output = window.hljs.highlight(this.format(markup).innerHTML, {
          language: "html",
        }).value
        setTimeout(() => {
          window.sendHeight()
        }, 20)
      } else {
        this.setupGenerateOutput()
      }
    },
    format(node, level = 0) {
      if (!node) return
      let indentBefore = new Array(level++ + 1).join("  ")
      let indentAfter = new Array(level - 1).join("  ")
      let textNode

      for (var i = 0; i < node.children.length; i++) {
        textNode = document.createTextNode("\\n" + indentBefore)
        node.insertBefore(textNode, node.children[i])
        this.format(node.children[i], level)
        if (node.lastElementChild == node.children[i]) {
          textNode = document.createTextNode("\\n" + indentAfter)
          node.appendChild(textNode)
        }
      }
      return node
    },
  },
}
${'</'}${'script>'}
`; // injected by IframePanel.vue

        async function setupVueInstance(sourceTemplate) {
          var addStyle = (textContent, id) => {
            const cssId = id ? id : "component-styles";
            var existingCSS = document.getElementById(cssId);
            if (existingCSS) {
              existingCSS.remove();
            }
            var css = document.createElement("style");
            css.id = cssId;

            css.appendChild(document.createTextNode(textContent));
            var ref = document.head.getElementsByTagName("style")[0] || null;
            document.head.insertBefore(css, ref ? ref.nextSibling : ref);
          };
          window.moduleCache = {
            vue: window.Vue,
            hljs: hljs,
            
        '@formkit/vue': FormKitVue,
        '@formkit/core': FormKitCore,
        '@formkit/utils': FormKitUtils,
        '@formkit/dev': FormKitDev,
        '@formkit/i18n': FormKitI18n,
        '@formkit/inputs': FormKitInputs,
        '@formkit/observer': FormKitObserver,
        '@formkit/rules': FormKitRules,
        '@formkit/validation': FormKitValidation,
        '@formkit/pro': FormKitPro,
        '@formkit/tailwindcss': FormKitTailwind,
        '@formkit/themes': FormKitThemes,
        '@formkit/icons': FormKitIcons,
        '@formkit/addons': FormKitAddons,
        '@formkit/auto-animate': FormKitAutoAnimate
          };

          // add global window modules to moduleCache
          // these are files that originate from the editor itself
          if (window.localVueComponents) {
            Object.keys(window.localVueComponents).forEach(async (key) => {
              var fileContents = window.localVueComponents[key];
              window.moduleCache[key] = await window.Vue.defineAsyncComponent(
                () =>
                  loadModule("Component" + key, {
                    moduleCache: window.moduleCache,
                    getFile: () => fileContents,
                    addStyle,
                    log(type, ...args) {
                      console[type]("Render: ", ...args);
                    },
                  })
              );
            });
          }
          if (window.localModules) {
            Object.keys(window.localModules).forEach(async (key) => {
              var moduleEntity = window.localModules[key];
              var moduleExports = moduleEntity
                ? Object.keys(moduleEntity)
                : undefined;
              if (moduleExports) {
                var isOnlyDefault =
                  moduleExports.length === 1 &&
                  moduleExports.includes("default");
                window.moduleCache[key] = isOnlyDefault
                  ? moduleEntity.default
                  : moduleEntity;
              }
            });
          }

          var lastPackageOrg = ""; // used for tracking relative imports from CDNs such as jsdelivr
          var SourceOptions = {
            moduleCache: window.moduleCache,
            pathResolve({ refPath, relPath }) {
              let url = window.importMap[relPath];
              if (moduleCache[relPath]) {
                return relPath; // return a string that will be respected by our import map
              }
              if (relPath.endsWith(".vue")) {
                url = relPath.replace("./", "");
              } else if (
                !url &&
                (relPath.startsWith("./") || relPath.startsWith("/"))
              ) {
                // if we did not have an exact match, and the relPath starts with a relative path,
                // then try loading from the last library that we were dealing with.
                let newPath = relPath.replace("./", "/");
                newPath = newPath.replace(newPath.match(/@.*$/), "");
                newPath = newPath.replace(/(^\/)/, lastPackageOrg);
                url = window.importMap[newPath] || "";
              } else if (url && relPath.startsWith("@")) {
                // save the package org if it has one in case it requests a relative package within
                // the same organization - but with a relative path
                lastPackageOrg = relPath.match(/(@.*)\//g);
              }
              return url;
            },
            getFile: (url) => {
              if (!url || url === "example.vue") {
                return sourceTemplate;
              } else if (url.endsWith(".vue")) {
                return url;
              } else {
                const type = /.*?\.js|.mjs$/.test(url)
                  ? ".mjs"
                  : /.*?\.vue$/.test(url)
                  ? ".vue"
                  : /.*?\.css$/.test(url)
                  ? ".css"
                  : ".mjs";
                const getContentData = async (asBinary) =>
                  await fetch(url).then((res) =>
                    !res.ok
                      ? Promise.reject(url)
                      : asBinary
                      ? res.arrayBuffer()
                      : res.text()
                  );
                return { getContentData, type };
              }
            },
            addStyle,
            log(type, ...args) {
              console[type]("Render: ", ...args);
            },
          };
          var HTMLOptions = {
            moduleCache: window.moduleCache,
            getFile: () => window.HTMLTemplate,
            addStyle,
            log(type, ...args) {
              console[type]("HTML: ", ...args);
            },
          };
          const pro = createProPlugin("fk-52971f34220", inputs);
          window.vueApp = getNewApp(SourceOptions, HTMLOptions);
          const config = window.hasFormKitConfig
            ? window.localModules["formkit.config.js"].default
            : {};
          if (Array.isArray(config.plugins)) {
            config.plugins.push(pro);
          } else {
            config.plugins = [pro];
          }
          window.vueApp.use(plugin, defaultConfig(config));
          window.vueApp.mount(document.getElementById("app"));
        }

        function getNewApp(SourceOptions, HTMLOptions) {
          if (window.vueApp) {
            window.vueApp.unmount();
            resetCount();
          }
          return window.Vue.createApp({
            components: {
              "source-template": window.Vue.defineAsyncComponent(
                async () => await loadModule("example.vue", SourceOptions)
              ),
              "html-template": window.Vue.defineAsyncComponent(
                async () => await loadModule("html.vue", HTMLOptions)
              ),
            },
            template:
              '<html-template ref="wrapper"><source-template></source-template></html-template>',
          });
        }

        window.sendUUID();
      } catch (err) {
        console.error(err);
      }
    </script>
  
          <script type="text/javascript">
  window.fullscreen = false
  window.fullscreenLastActiveTab = window.activeTab
  window.renderHeight = 0

  var localMessageHandlers = [
    (e) => {
      if (e.data && e.data.channel === "fullscreen") {
        window.fullscreen = e.data.payload
        if (window.fullscreen) {
          document.documentElement.setAttribute("data-v2lce-fullscreen", true)
        } else {
          document.documentElement.removeAttribute("data-v2lce-fullscreen")
        }
      }
    },
  ]
  window.messageHandlers = window.messageHandlers
    ? window.messageHandlers.concat(localMessageHandlers)
    : localMessageHandlers

  var sendHeight = function (force) {
    if (!window || !window.parent) {
      return
    }

    setTimeout(() => {
      var height = 1
      var render = document.querySelector("#app .source-wrapper")
        ? document.querySelector("#app .source-wrapper").clientHeight
        : 0
      var html = document.querySelector("#app .output-wrapper")
        ? document.querySelector("#app .output-wrapper").clientHeight
        : 0

      if (window.activeTab === "render") {
        height = Math.max(render, 72, 1)
      } else if (window.activeTab === "html") {
        height = Math.max(html, 72, 1)
      }

      if (
        (height === 1 || height > 72) &&
        (force ||
          window.renderHeight !== height ||
          window.fullscreenLastActiveTab !== window.activeTab)
      ) {
        window.renderHeight = height
        window.parent.postMessage(
          JSON.parse(
            JSON.stringify({
              channel: "iframe",
              height: window.fullscreen ? 0 : height,
              force:
                force || window.fullscreenLastActiveTab !== window.activeTab,
              uuid: window.uuid,
            })
          ),
          "*"
        )
        window.fullscreenLastActiveTab = window.activeTab
      }
    }, 10)
  }
  var forceSendHeight = () => {
    sendHeight(true)
  }

  window.addEventListener("resize", forceSendHeight)
</script>

          


        
        </body></html>